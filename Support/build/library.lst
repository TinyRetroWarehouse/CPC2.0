                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.6.0 #9615 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module library
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _putchar
                             12 	.globl _printf
                             13 	.globl _spiProcessEvents
                             14 	.globl _globals
                             15 	.globl _process_events
                             16 	.globl _console
                             17 	.globl _ul
                             18 ;--------------------------------------------------------
                             19 ; special function registers
                             20 ;--------------------------------------------------------
                             21 ;--------------------------------------------------------
                             22 ; ram data
                             23 ;--------------------------------------------------------
                             24 	.area _DATA
                     0000    25 Flibrary$global_variables$0$0==.
   0000                      26 _global_variables:
   0000                      27 	.ds 1059
                             28 ;--------------------------------------------------------
                             29 ; ram data
                             30 ;--------------------------------------------------------
                             31 	.area _INITIALIZED
                     0000    32 Flibrary$msgno$0$0==.
   0000                      33 _msgno:
   0000                      34 	.ds 4
                             35 ;--------------------------------------------------------
                             36 ; absolute external ram data
                             37 ;--------------------------------------------------------
                             38 	.area _DABS (ABS)
                             39 ;--------------------------------------------------------
                             40 ; global & static initialisations
                             41 ;--------------------------------------------------------
                             42 	.area _HOME
                             43 	.area _GSINIT
                             44 	.area _GSFINAL
                             45 	.area _GSINIT
                             46 ;--------------------------------------------------------
                             47 ; Home
                             48 ;--------------------------------------------------------
                             49 	.area _HOME
                             50 	.area _HOME
                             51 ;--------------------------------------------------------
                             52 ; code
                             53 ;--------------------------------------------------------
                             54 	.area _CODE
                     0000    55 	G$globals$0$0	= .
                             56 	.globl	G$globals$0$0
                     0000    57 	C$library.c$34$0$0	= .
                             58 	.globl	C$library.c$34$0$0
                             59 ;../src/library/library.c:34: inline struct global_vars * globals()
                             60 ;	---------------------------------
                             61 ; Function globals
                             62 ; ---------------------------------
   0000                      63 _globals::
                     0000    64 	C$library.c$36$1$57	= .
                             65 	.globl	C$library.c$36$1$57
                             66 ;../src/library/library.c:36: return &global_variables;
   0000 21r00r00      [10]   67 	ld	hl,#_global_variables
                     0003    68 	C$library.c$37$1$57	= .
                             69 	.globl	C$library.c$37$1$57
                     0003    70 	XG$globals$0$0	= .
                             71 	.globl	XG$globals$0$0
   0003 C9            [10]   72 	ret
                     0004    73 	G$process_events$0$0	= .
                             74 	.globl	G$process_events$0$0
                     0004    75 	C$library.c$39$1$57	= .
                             76 	.globl	C$library.c$39$1$57
                             77 ;../src/library/library.c:39: inline void process_events()
                             78 ;	---------------------------------
                             79 ; Function process_events
                             80 ; ---------------------------------
   0004                      81 _process_events::
                     0004    82 	C$library.c$41$1$58	= .
                             83 	.globl	C$library.c$41$1$58
                             84 ;../src/library/library.c:41: spiProcessEvents();
                     0004    85 	C$library.c$42$1$58	= .
                             86 	.globl	C$library.c$42$1$58
                     0004    87 	XG$process_events$0$0	= .
                             88 	.globl	XG$process_events$0$0
   0004 C3r00r00      [10]   89 	jp  _spiProcessEvents
                     0007    90 	G$console$0$0	= .
                             91 	.globl	G$console$0$0
                     0007    92 	C$library.c$45$1$58	= .
                             93 	.globl	C$library.c$45$1$58
                             94 ;../src/library/library.c:45: void console(char *msg)
                             95 ;	---------------------------------
                             96 ; Function console
                             97 ; ---------------------------------
   0007                      98 _console::
   0007 DD E5         [15]   99 	push	ix
   0009 DD 21 00 00   [14]  100 	ld	ix,#0
   000D DD 39         [15]  101 	add	ix,sp
   000F F5            [11]  102 	push	af
   0010 F5            [11]  103 	push	af
                     0011   104 	C$library.c$47$1$60	= .
                            105 	.globl	C$library.c$47$1$60
                            106 ;../src/library/library.c:47: printf("[%08ld] %s\n", msgno++, msg);
   0011 21 00 00      [10]  107 	ld	hl, #0
   0014 39            [11]  108 	add	hl, sp
   0015 EB            [ 4]  109 	ex	de, hl
   0016 21r00r00      [10]  110 	ld	hl, #_msgno
   0019 01 04 00      [10]  111 	ld	bc, #4
   001C ED B0         [21]  112 	ldir
   001E FD 21r00r00   [14]  113 	ld	iy,#_msgno
   0022 FD 34 00      [23]  114 	inc	0 (iy)
   0025 20 0D         [12]  115 	jr	NZ,00103$
   0027 FD 34 01      [23]  116 	inc	1 (iy)
   002A 20 08         [12]  117 	jr	NZ,00103$
   002C FD 34 02      [23]  118 	inc	2 (iy)
   002F 20 03         [12]  119 	jr	NZ,00103$
   0031 FD 34 03      [23]  120 	inc	3 (iy)
   0034                     121 00103$:
   0034 DD 6E 04      [19]  122 	ld	l,4 (ix)
   0037 DD 66 05      [19]  123 	ld	h,5 (ix)
   003A E5            [11]  124 	push	hl
   003B DD 6E FE      [19]  125 	ld	l,-2 (ix)
   003E DD 66 FF      [19]  126 	ld	h,-1 (ix)
   0041 E5            [11]  127 	push	hl
   0042 DD 6E FC      [19]  128 	ld	l,-4 (ix)
   0045 DD 66 FD      [19]  129 	ld	h,-3 (ix)
   0048 E5            [11]  130 	push	hl
   0049 21r5Ar00      [10]  131 	ld	hl,#___str_0
   004C E5            [11]  132 	push	hl
   004D CDr00r00      [17]  133 	call	_printf
   0050 21 08 00      [10]  134 	ld	hl,#8
   0053 39            [11]  135 	add	hl,sp
   0054 F9            [ 6]  136 	ld	sp,hl
   0055 DD F9         [10]  137 	ld	sp, ix
   0057 DD E1         [14]  138 	pop	ix
                     0059   139 	C$library.c$48$1$60	= .
                            140 	.globl	C$library.c$48$1$60
                     0059   141 	XG$console$0$0	= .
                            142 	.globl	XG$console$0$0
   0059 C9            [10]  143 	ret
                     005A   144 Flibrary$__str_0$0$0 == .
   005A                     145 ___str_0:
   005A 5B 25 30 38 6C 64   146 	.ascii "[%08ld] %s"
        5D 20 25 73
   0064 0A                  147 	.db 0x0a
   0065 00                  148 	.db 0x00
                     0066   149 	G$ul$0$0	= .
                            150 	.globl	G$ul$0$0
                     0066   151 	C$library.c$51$1$60	= .
                            152 	.globl	C$library.c$51$1$60
                            153 ;../src/library/library.c:51: void ul()
                            154 ;	---------------------------------
                            155 ; Function ul
                            156 ; ---------------------------------
   0066                     157 _ul::
                     0066   158 	C$library.c$54$1$61	= .
                            159 	.globl	C$library.c$54$1$61
                            160 ;../src/library/library.c:54: for( cntr=0; cntr<_STD_WIDTH_ - 1; cntr++) putchar('=');
   0066 01 00 00      [10]  161 	ld	bc,#0x0000
   0069                     162 00102$:
   0069 C5            [11]  163 	push	bc
   006A 3E 3D         [ 7]  164 	ld	a,#0x3d
   006C F5            [11]  165 	push	af
   006D 33            [ 6]  166 	inc	sp
   006E CDr00r00      [17]  167 	call	_putchar
   0071 33            [ 6]  168 	inc	sp
   0072 C1            [10]  169 	pop	bc
   0073 03            [ 6]  170 	inc	bc
   0074 79            [ 4]  171 	ld	a,c
   0075 D6 4F         [ 7]  172 	sub	a, #0x4f
   0077 78            [ 4]  173 	ld	a,b
   0078 17            [ 4]  174 	rla
   0079 3F            [ 4]  175 	ccf
   007A 1F            [ 4]  176 	rra
   007B DE 80         [ 7]  177 	sbc	a, #0x80
   007D 38 EA         [12]  178 	jr	C,00102$
                     007F   179 	C$library.c$55$1$61	= .
                            180 	.globl	C$library.c$55$1$61
                            181 ;../src/library/library.c:55: putchar('\n');
   007F 3E 0A         [ 7]  182 	ld	a,#0x0a
   0081 F5            [11]  183 	push	af
   0082 33            [ 6]  184 	inc	sp
   0083 CDr00r00      [17]  185 	call	_putchar
   0086 33            [ 6]  186 	inc	sp
                     0087   187 	C$library.c$56$1$61	= .
                            188 	.globl	C$library.c$56$1$61
                     0087   189 	XG$ul$0$0	= .
                            190 	.globl	XG$ul$0$0
   0087 C9            [10]  191 	ret
                            192 	.area _CODE
                            193 	.area _INITIALIZER
                     0000   194 Flibrary$__xinit_msgno$0$0 == .
   0000                     195 __xinit__msgno:
   0000 00 00 00 00         196 	.byte #0x00,#0x00,#0x00,#0x00	; 0
                            197 	.area _CABS (ABS)
